{"version":3,"file":"SelectItems.js","sourceRoot":"","sources":["../../src/components/SelectItems.tsx"],"names":[],"mappings":"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","sourcesContent":["import { FC, useState } from 'react'\nimport Select from 'react-select'\nimport CreatableSelect from 'react-select/creatable'\n\n/**\n * Simplified SelectItems component for Ziggy plugins\n * This is a plugin-friendly version without Zustand store dependencies\n */\n\nexport interface SelectItem {\n  id: string\n  label: string\n  extraData?: any\n}\n\nexport type SelectItemsSelection = SelectItem | SelectItem[] | null | undefined\n\nexport interface SelectItemsProps {\n  items: SelectItem[]\n  selectedItem?: SelectItemsSelection\n  onSelect: (item: SelectItemsSelection) => void\n  placeholder?: string\n  clearable?: boolean\n  creatable?: boolean\n  multiSelect?: boolean\n  width?: number\n  isDisabled?: boolean\n  noOptionsMessage?: string\n  className?: string\n}\n\ntype SelectOption = {\n  label: string\n  value: string\n  extraData: any\n}\n\nconst defaultStyles = {\n  control: (base: any) => ({\n    ...base,\n    minHeight: '32px',\n    borderColor: '#d1d5db',\n    '&:hover': {\n      borderColor: '#9ca3af',\n    },\n  }),\n  valueContainer: (base: any) => ({\n    ...base,\n    padding: '2px 8px',\n  }),\n  input: (base: any) => ({\n    ...base,\n    margin: 0,\n    padding: 0,\n  }),\n  indicatorsContainer: (base: any) => ({\n    ...base,\n    height: '32px',\n  }),\n  menu: (base: any) => ({\n    ...base,\n    zIndex: 9999,\n  }),\n  menuPortal: (base: any) => ({\n    ...base,\n    zIndex: 9999,\n  }),\n}\n\nconst SelectItems: FC<SelectItemsProps> = ({\n  items,\n  selectedItem,\n  onSelect,\n  placeholder = 'Select...',\n  clearable = true,\n  creatable = false,\n  multiSelect = false,\n  width,\n  isDisabled = false,\n  noOptionsMessage = 'No options',\n  className = '',\n}) => {\n  const [inputValue, setInputValue] = useState(\n    Array.isArray(selectedItem) ? '' : selectedItem?.id || '',\n  )\n\n  // Convert items to react-select format\n  const options: SelectOption[] = items.map(item => ({\n    label: item.label,\n    value: item.id,\n    extraData: item.extraData ?? null,\n  }))\n\n  // Convert selected item to react-select format\n  const selectedValue = Array.isArray(selectedItem)\n    ? selectedItem.map(item => ({\n        label: item.label,\n        value: item.id,\n        extraData: item.extraData ?? null,\n      }))\n    : selectedItem\n      ? {\n          label: selectedItem.label,\n          value: selectedItem.id,\n          extraData: selectedItem.extraData ?? null,\n        }\n      : null\n\n  const handleChange = (selected: SelectOption | SelectOption[] | null) => {\n    if (!selected) {\n      onSelect(null)\n      return\n    }\n\n    if (Array.isArray(selected)) {\n      // Multi-select\n      const items = selected.map(opt => ({\n        id: opt.value,\n        label: opt.label,\n        extraData: opt.extraData,\n      }))\n      onSelect(items)\n    } else {\n      // Single select\n      const item: SelectItem = {\n        id: selected.value,\n        label: selected.label,\n        extraData: selected.extraData,\n      }\n      onSelect(item)\n    }\n  }\n\n  const handleInputChange = (value: string) => {\n    setInputValue(value)\n  }\n\n  const commonProps = {\n    styles: defaultStyles,\n    options,\n    onChange: handleChange as any,\n    placeholder,\n    value: selectedValue,\n    noOptionsMessage: () => noOptionsMessage,\n    isClearable: clearable,\n    menuPortalTarget: typeof document !== 'undefined' ? document.body : null,\n    isDisabled,\n    isMulti: multiSelect,\n  }\n\n  const containerStyle = width ? { width: `${width}px` } : {}\n\n  return (\n    <div className={`w-full ${className}`} style={containerStyle}>\n      {creatable ? (\n        <CreatableSelect\n          {...commonProps}\n          inputValue={inputValue}\n          onInputChange={handleInputChange}\n        />\n      ) : (\n        <Select {...commonProps} />\n      )}\n    </div>\n  )\n}\n\nexport default SelectItems\n"]}