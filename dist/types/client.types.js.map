{"version":3,"file":"client.types.js","sourceRoot":"","sources":["../../src/types/client.types.ts"],"names":[],"mappings":"AAEA;;GAEG;AACH,MAAM,CAAN,IAAY,cAKX;AALD,WAAY,cAAc;IACxB,+BAAa,CAAA;IACb,qCAAmB,CAAA;IACnB,2CAAyB,CAAA;IACzB,mCAAiB,CAAA;AACnB,CAAC,EALW,cAAc,KAAd,cAAc,QAKzB;AAED,MAAM,CAAN,IAAY,aAEX;AAFD,WAAY,aAAa;IACvB,sCAAqB,CAAA;AACvB,CAAC,EAFW,aAAa,KAAb,aAAa,QAExB;AAED,MAAM,CAAN,IAAY,oBAGX;AAHD,WAAY,oBAAoB;IAC9B,6CAAqB,CAAA;IACrB,iDAAyB,CAAA;AAC3B,CAAC,EAHW,oBAAoB,KAApB,oBAAoB,QAG/B","sourcesContent":["import { ComponentType } from 'react'\n\n/**\n * Enums for block configuration\n */\nexport enum BlockGroupEnum {\n  Core = 'Core',\n  Utility = 'Utility',\n  Collection = 'Collection',\n  Custom = 'Custom',\n}\n\nexport enum StyleTypeEnum {\n  standard = 'STANDARD',\n}\n\nexport enum BlockTypeSpecialEnum {\n  Receiver = 'RECEIVER',\n  Terminator = 'TERMINATOR',\n}\n\n/**\n * Block position in the flow editor\n */\nexport interface IFlowBlockPosition {\n  x: number\n  y: number\n}\n\n/**\n * Block data containing all configuration and metadata\n */\nexport interface IFlowBlockData {\n  /** Block type identifier (must be unique across all blocks) */\n  type: string\n\n  /** Special block designation (Receiver, Terminator) */\n  special?: BlockTypeSpecialEnum\n\n  /** Display name of the block */\n  name: string\n\n  /** User-friendly name override */\n  friendlyName?: string\n\n  /** Block version number */\n  version?: number\n\n  /** Help text */\n  help?: string\n\n  /** Path to help documentation file */\n  helpFile?: string\n\n  /** Whether block configuration is valid */\n  isValid: boolean\n\n  /** Whether block is collapsed in UI */\n  collapse?: boolean\n\n  /** Block category (Core, Utility, Collection, Custom) */\n  group: BlockGroupEnum\n\n  /** Visual style type */\n  styleType: StyleTypeEnum\n\n  /** Number of input connection points */\n  numInputs: number\n\n  /** Number of output connection points */\n  numOutputs: number\n\n  /** Whether block has internal output handles */\n  hasInternalOutputHandles: boolean\n\n  /** Whether block has internal input handles */\n  hasInternalInputHandles: boolean\n\n  /** Custom header color (hex code) */\n  headerColor?: string\n\n  /** Block-specific configuration object */\n  config: any | string\n\n  /** Whether block is currently active/executing */\n  isActive?: boolean\n\n  /** Last execution time in milliseconds */\n  executionTime?: number\n\n  /** Additional custom data */\n  extraData?: any\n\n  /** Internal flag for waiting on edge data */\n  waitingForAllEdgeData?: boolean\n\n  /** Queue UUID for async processing */\n  queueUuid?: string\n}\n\n/**\n * Complete block structure in the flow\n */\nexport interface IFlowBlock {\n  /** Unique block instance ID */\n  id: string\n\n  /** Block type identifier */\n  type: string\n\n  /** Block width in pixels */\n  width: number\n\n  /** Block height in pixels */\n  height: number\n\n  /** Position in the flow canvas */\n  position: IFlowBlockPosition\n\n  /** Whether block is selected */\n  selected?: boolean\n\n  /** Block data and configuration */\n  data: IFlowBlockData\n}\n\n/**\n * Flow API for plugin components to interact with the flow store\n *\n * NOTE: This interface is duplicated in shared/blocks/base/FlowAPI.types.ts\n * Both definitions MUST be kept in sync manually.\n *\n * This duplication exists to avoid backwards dependency:\n * - Plugin SDK defines this (here) for external plugins\n * - Main app has its own copy to avoid importing from plugin SDK\n * - Both are structurally identical so TypeScript treats them as compatible\n */\nexport interface FlowAPI {\n  /** Update block configuration and trigger save */\n  updateBlock: (nodeId: string, block: IFlowBlockData) => void\n\n  /** Update number of output connections */\n  updateNumOutputs: (nodeId: string, numOutputs: number) => void\n}\n\n/**\n * Props passed to block React components\n */\nexport interface BlockComponentProps {\n  /** Unique node ID */\n  nodeId: string\n\n  /** Block data */\n  block: IFlowBlockData\n\n  /** Whether block is collapsed */\n  collapse: boolean\n\n  /** Flow API for updating block state */\n  flowApi: FlowAPI\n}\n\n/**\n * Block definition for registration\n */\nexport interface BlockDefinitionProps {\n  /** Block structure with default configuration */\n  block: IFlowBlock\n\n  /** Base React component type for rendering */\n  baseNodeType: ComponentType<any>\n\n  /** Custom React component for block body */\n  component: ComponentType<BlockComponentProps>\n\n  /** Optional collection designation */\n  collection?: undefined\n}\n\n/**\n * Collection definition for grouping blocks\n */\nexport interface CollectionDefinitionProps {\n  /** Collection display name */\n  collectionName: string\n\n  /** Collection description */\n  collectionDescription: string\n\n  /** Array of block definitions in this collection */\n  blocks: BlockDefinitionProps[]\n}\n\n/**\n * File-based icon specification\n */\nexport interface IconFile {\n  /** Discriminator for type checking */\n  type: 'file'\n\n  /** Image format */\n  format: 'svg' | 'png' | 'jpg' | 'jpeg'\n\n  /** Path to icon file relative to plugin root (e.g., 'assets/icon.svg') */\n  path: string\n\n  /** Runtime URL (populated by server) */\n  url?: string\n}\n\n/**\n * Icon source - either a React component or a file-based icon\n */\nexport type IconSource = ComponentType | IconFile\n\n/**\n * Block metadata (info, icon, help file)\n */\nexport interface BlockMetadata {\n  /** Short description of block functionality */\n  info: string\n\n  /** Path to help documentation (relative to docs root) */\n  helpFile?: string\n\n  /** React icon component or file-based icon */\n  icon: IconSource\n}\n"]}