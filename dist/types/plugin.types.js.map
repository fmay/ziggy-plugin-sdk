{"version":3,"file":"plugin.types.js","sourceRoot":"","sources":["../../src/types/plugin.types.ts"],"names":[],"mappings":"","sourcesContent":["import { ComponentType } from 'react'\nimport { BlockDefinitionProps, BlockMetadata } from './client.types.js'\nimport { BlockExecutionProps } from './server.types.js'\n\n/**\n * Main plugin manifest that defines all blocks and collections in the plugin\n */\nexport interface PluginManifest {\n  /** Unique plugin name (e.g., \"@my-company/custom-crm\") */\n  name: string\n\n  /** Semantic version (e.g., \"1.0.0\") */\n  version: string\n\n  /** Human-readable description of what this plugin provides */\n  description: string\n\n  /** Plugin author or organization */\n  author: string\n\n  /** Array of block definitions provided by this plugin */\n  blocks: PluginBlockDefinition[]\n\n  /** Optional collections to group related blocks */\n  collections?: PluginCollectionDefinition[]\n\n  /** NPM dependencies required by this plugin */\n  dependencies?: Record<string, string>\n}\n\n/**\n * Complete block definition including both client UI and server execution\n */\nexport interface PluginBlockDefinition {\n  /** Client-side block definition (UI, metadata) */\n  client: {\n    /** Block definition for the flow editor */\n    blockDefinition: BlockDefinitionProps\n\n    /** Block metadata (info text, icon, help file) */\n    metadata: BlockMetadata\n\n    /** Optional AI-related information for AI-assisted flow building */\n    aiInfo?: AIBlockInfo\n  }\n\n  /** Server-side execution function */\n  server: {\n    /** Async function that executes the block logic */\n    execute: (props: BlockExecutionProps) => Promise<void>\n  }\n}\n\n/**\n * Optional collection grouping for organizing related blocks\n */\nexport interface PluginCollectionDefinition {\n  /** Collection display name */\n  collectionName: string\n\n  /** Collection description */\n  collectionDescription: string\n\n  /** Array of block types belonging to this collection */\n  blockIds: string[]\n}\n\n/**\n * AI-related metadata for a block\n */\nexport interface AIBlockInfo {\n  /** Brief summary for AI context */\n  summary: string\n\n  /** Detailed description of block functionality */\n  description: string\n\n  /** Keywords for search and discovery */\n  keyWords: string[]\n\n  /** Additional AI-specific information */\n  aiInfo: string\n\n  /** Block property descriptions for AI */\n  props: Record<string, any>\n}\n\n/**\n * Plugin registration data transfer object\n */\nexport interface RegisterPluginDto {\n  /** Plugin type: 'npm' for packages, 'local' for file paths */\n  type: 'npm' | 'local'\n\n  /** Package name (for npm) or file path (for local) */\n  source: string\n\n  /** Optional configuration for the plugin */\n  config?: Record<string, any>\n}\n\n/**\n * Plugin registry database model\n */\nexport interface PluginRegistryModel {\n  id: string\n  name: string\n  version: string\n  type: 'npm' | 'local'\n  source: string\n  enabled: boolean\n  installedAt: Date\n  updatedAt: Date\n  config: Record<string, any>\n  metadata: PluginManifest\n}\n\n/**\n * Plugin block database model\n */\nexport interface PluginBlockModel {\n  id: string\n  pluginId: string\n  blockType: string\n  blockName: string\n  blockGroup: string\n  metadata: any\n  createdAt: Date\n}\n"]}